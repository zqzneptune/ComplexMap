% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/generateNodeAttributes.R
\name{generateNodeAttributes}
\alias{generateNodeAttributes}
\title{Generate Node Attributes for a Complex Network}
\usage{
generateNodeAttributes(
  complexes,
  enrichments,
  similarityMethod = "jaccard",
  verbose = TRUE
)
}
\arguments{
\item{complexes}{A named list of protein complexes.}

\item{enrichments}{A named list of enrichment results, typically from
`runComplexEnrichment`. Each element should be a data frame with at least
`ID`, `Description`, and `p.adjust` columns.}

\item{similarityMethod}{The distance/similarity method passed to
`philentropy::distance` for clustering terms. Defaults to "jaccard".}

\item{verbose}{A logical value indicating whether to print progress messages.
Defaults to `TRUE`.}
}
\value{
A `tibble` where each row corresponds to a complex. The columns include:
`complexId`, `proteinCount`, `proteins`, `primaryFunctionalDomain`,
`topEnrichedFunctions`, `colorHex`, and `sizeMapping`.
}
\description{
Creates a detailed attribute table for each complex, suitable for network
visualization. Attributes include protein count, a primary functional
domain, top enriched functions, and a unique color representing the
complex's functional profile.
}
\details{
This function performs several steps to generate rich node attributes:
1.  It aggregates all enriched terms from the input `enrichments` list.
2.  A term-complex matrix is built, and terms are clustered based on their
    co-occurrence in complexes using the specified similarity metric. This
    groups related functional terms into "functional domains".
3.  A unique color is assigned to each functional domain using a qualitative
    palette from `RColorBrewer`.
4.  For each complex, it determines the primary functional domain based on
    the most significant enriched term.
5.  A unique "blended" color is calculated for each complex by mixing the
    colors of its associated domains, weighted by the significance
    (-log10 p-value) of the enriched terms.
6.  Basic attributes like protein count and a list of proteins are also included.

Complexes with no significant enrichments are assigned a default "Unenriched"
domain and a grey color.
}
\examples{
# --- Sample Data ---
complexes <- list(
  Cpx1 = c("A", "B", "C"),
  Cpx2 = c("C", "D", "E"),
  Cpx3 = c("F", "G") # Unenriched
)
enrichments <- list(
  Cpx1 = data.frame(ID = "GO:1", Description = "Term A", p.adjust = 0.01),
  Cpx2 = data.frame(ID = "GO:2", Description = "Term B", p.adjust = 0.02)
)

# --- Generate Node Attributes ---
nodeAttrs <- generateNodeAttributes(complexes, enrichments)
print(nodeAttrs)

}
\author{
Qingzhou Zhang <zqzneptune@hotmail.com>
}
