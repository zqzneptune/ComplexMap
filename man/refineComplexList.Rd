% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/refineComplexList.R
\name{refineComplexList}
\alias{refineComplexList}
\title{Refine a List of Protein Complexes by Size and Redundancy}
\usage{
refineComplexList(
  complexList,
  minSize = 3,
  maxSize = 500,
  mergeThreshold = 0.9,
  similarityMethod = "matching_score",
  verbose = TRUE
)
}
\arguments{
\item{complexList}{A named list where each element is a character vector of
protein identifiers representing a complex.}

\item{minSize}{An integer specifying the minimum number of proteins a complex
must have to be retained. Defaults to 3.}

\item{maxSize}{An integer specifying the maximum number of proteins a complex
can have to be retained. Defaults to 500.}

\item{mergeThreshold}{A numeric value (0-1). Complexes with a similarity
score >= this value will be merged. Defaults to 0.9.}

\item{similarityMethod}{A character string specifying the similarity metric
for merging. Defaults to `"matching_score"`. The available options are:
\describe{
  \item{`"matching_score"`}{`IntersectionÂ² / (|A| * |B|)`. Rewards large,
    shared cores. Aligns with the MMR evaluation metric.}
  \item{`"simpson"`}{`Intersection / min(|A|, |B|)`. Also known as the
    Overlap coefficient. excels at merging sub-complexes into larger parents.}
  \item{`"jaccard"`}{`Intersection / Union`. A classic, balanced metric
    that penalizes size differences.}
  \item{`"dice"`}{`2 * Intersection / (|A| + |B|)`. Similar to Jaccard but
    generally less stringent.}
}}

\item{verbose}{A logical value indicating whether to print progress messages.
Defaults to `TRUE`.}
}
\value{
A list containing two named elements:
\describe{
  \item{`refinedComplexes`}{The final, renamed list of merged complexes.}
  \item{`mergeMap`}{A `tibble` with columns `originalId` and `finalId`,
  mapping each original complex to its final standardized ID.}
}
}
\description{
This function refines a list of protein complexes by first filtering them
based on size and then merging highly redundant complexes based on a
similarity threshold.
}
\details{
The refinement process consists of two main stages:

1.  **Size Filtering:** Complexes smaller than `minSize` or larger than
    `maxSize` are removed.
    
2.  **Redundancy Merging:** A similarity matrix is calculated for all
    remaining complex pairs using the chosen `similarityMethod`. A
    union-find algorithm identifies clusters of complexes connected by a
    similarity score >= `mergeThreshold`, which are then merged.

Finally, all complexes in the refined list are renamed to a standardized
format ("CpxMap_0001", etc.), and a traceability map is generated.
}
\examples{
# Create a sample list of protein complexes
c1 <- c("A", "B", "C", "D", "E")
c2 <- c("A", "B", "C", "D", "F") # High similarity with c1
c3 <- c("A", "B", "C")          # Subset of c1 and c2
c4 <- c("X", "Y", "Z")
sampleList <- list(C1=c1, C2=c2, C3=c3, C4=c4)

# Refine using the default "matching_score"
refineComplexList(sampleList, mergeThreshold = 0.6)

# Refine using the "simpson" method to merge the subset
refineComplexList(sampleList, mergeThreshold = 0.9, similarityMethod = "simpson")

}
\author{
Qingzhou Zhang <zqzneptune@hotmail.com>
}
